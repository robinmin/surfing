---
import Layout from '~/layouts/PageLayout.astro';
import Hero from '~/components/widgets/Hero.astro';
import BlogLatestPosts from '~/components/widgets/BlogLatestPosts.astro';
import { DEFAULT_LANGUAGE, getServerTranslation } from '~/i18n';

// Use default language for SSG, will be updated on client
const t = getServerTranslation(DEFAULT_LANGUAGE);

const metadata = {
  title: `Surfing â€” ${t('site.description')}`,
  description: t('site.description'),
  ignoreTitleTemplate: true,
};
---

<Layout metadata={metadata}>
  <!-- Hero Widget ******************* -->

  <Hero
    actions={[
      {
        variant: 'primary',
        text: t('common.browse'),
        href: '/browse',
        icon: 'tabler:compass',
      },
    ]}
  >
    <Fragment slot="bg">
      <div
        class="absolute inset-0 bg-cover bg-center bg-no-repeat opacity-20"
        style="background-image: url(/assets/surfing_hero.png)"
      >
      </div>
    </Fragment>
    <Fragment slot="title">
      <span data-i18n="pages.home.title">{t('pages.home.title')}</span>
      <span class="text-accent dark:text-white" data-i18n="site.name">{t('site.name')}</span>
    </Fragment>

    <Fragment slot="subtitle">
      <span data-i18n="pages.home.subtitle">{t('pages.home.subtitle')}</span>
    </Fragment>
  </Hero>

  <BlogLatestPosts title={t('pages.home.latestContent')} linkUrl="/browse" linkText={t('common.browse')} />
</Layout>
